import{h as v,aq as q,ar as B,ac as b,as as E,at as M,au as z}from"./runtime.894U78pH.js";import{f as D,g as G,d as K,h as P,l as R}from"./disclose-version.CadwTKgb.js";import{i as S,n as V,a as Y}from"./render.xGvF74QX.js";function J(r){if(v){var s=!1,a=()=>{if(!s){if(s=!0,r.hasAttribute("value")){var o=r.value;y(r,"value",null),r.value=o}if(r.hasAttribute("checked")){var e=r.checked;y(r,"checked",null),r.checked=e}}};r.__on_r=a,q(a),D()}}function y(r,s,a,o){var e=r.__attributes??(r.__attributes={});v&&(e[s]=r.getAttribute(s),s==="src"||s==="srcset"||s==="href"&&r.nodeName==="LINK")||e[s]!==(e[s]=a)&&(s==="style"&&"__styles"in r&&(r.__styles={}),s==="loading"&&(r[B]=a),a==null?r.removeAttribute(s):typeof a!="string"&&w(r).includes(s)?r[s]=a:r.setAttribute(s,a))}function Q(r,s,a,o,e=!1,t=!1,j=!1){var _=s||{},L=r.tagName==="OPTION";for(var g in s)g in a||(a[g]=null);var O=w(r),T=r.__attributes??(r.__attributes={});for(const f in a){let i=a[f];if(L&&f==="value"&&i==null){r.value=r.__value="",_[f]=i;continue}var k=_[f];if(i!==k){_[f]=i;var A=f[0]+f[1];if(A!=="$$"){if(A==="on"){const c={},n="$$"+f;let l=f.slice(2);var N=Y(l);if(S(l)&&(l=l.slice(0,-7),c.capture=!0),!N&&k){if(i!=null)continue;r.removeEventListener(l,_[n],c),_[n]=null}if(i!=null)if(N)r[`__${l}`]=i,K([l]);else{let p=function(I){_[f].call(this,I)};_[n]=G(l,r,p,c)}}else if(f==="style"&&i!=null)r.style.cssText=i+"";else if(f==="autofocus")P(r,!!i);else if(f==="__value"||f==="value"&&i!=null)r.value=r[f]=r.__value=i;else{var u=f;e||(u=V(u)),i==null&&!t?(T[f]=null,r.removeAttribute(f)):O.includes(u)&&(t||typeof i!="string")?r[u]=i:typeof i!="function"&&(v&&(u==="src"||u==="href"||u==="srcset")||y(r,u,i))}f==="style"&&"__styles"in r&&(r.__styles={})}}}return _}var $=new Map;function w(r){var s=$.get(r.nodeName);if(s)return s;$.set(r.nodeName,s=[]);for(var a,o=b(r),e=Element.prototype;e!==o;){a=E(o);for(var t in a)a[t].set&&s.push(t);o=b(o)}return s}function U(r,s,a=s){var o=M();R(r,"input",()=>{var e=d(r)?h(r.value):r.value;a(e),o&&e!==(e=s())&&(r.value=e??"")}),z(()=>{var e=s();if(v&&r.defaultValue!==r.value){a(d(r)?h(r.value):r.value);return}d(r)&&e===h(r.value)||r.type==="date"&&!e&&!r.value||e!==r.value&&(r.value=e??"")})}function d(r){var s=r.type;return s==="number"||s==="range"}function h(r){return r===""?null:+r}export{U as b,J as r,Q as s};
